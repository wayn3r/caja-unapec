<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Editar Movimiento de Caja</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
<header th:replace="~{header :: header}"></header>
<main class="container mt-3 mb-4">
    <h2>Editar Movimiento de Caja #<span th:text="${movimientoCaja.noMovimiento}"></span></h2>
    <form th:action="@{/movimientos-caja/{id}/edit(id=${movimientoCaja.id})}" th:object="${movimientoCaja}"
          method="post" novalidate>
        <input type="hidden" th:field="*{id}">

        <input type="hidden" readonly th:field="*{noMovimiento}"  class="form-control">

        <label for="empleado" class="form-label">Empleado:</label>
        <select id="empleado" name="empleado" th:field="*{empleado}" class="form-select" required>
            <option th:each="empleado : ${empleadosList}"
                    th:value="${empleado.id}" th:text="${empleado.nombre}">
            </option>
        </select>
       <span class="text-danger" th:if="${#fields.hasErrors('empleado')}" th:errors="*{empleado}"></span>
        <br>
        <label for="cliente" class="form-label">Cliente:</label>
        <select id="cliente" name="cliente" th:field="*{cliente}" class="form-select" required>
            <option th:each="cliente : ${clientesList}"
                    th:value="${cliente.idCliente}" th:text="${cliente.nombre}">
            </option>
        </select>
       <span class="text-danger" th:if="${#fields.hasErrors('cliente')}" th:errors="*{cliente}"></span>
        <br>
        <label for="servicio" class="form-label">Servicio:</label>
        <select id="servicio" name="servicio" th:field="*{servicio}" class="form-select" required>
            <option th:each="servicio : ${serviciosList}"
                    th:value="${servicio.id}" th:text="${servicio.descripcion}">
            </option>
        </select>
       <span class="text-danger" th:if="${#fields.hasErrors('servicio')}" th:errors="*{servicio}"></span>
        <br>
        <label for="tipoDocumento" class="form-label">Tipo de Documento:</label>
        <select id="tipoDocumento" name="tipoDocumento" th:field="*{tipoDocumento}" class="form-select" required>
            <option th:each="tipoDocumento : ${tiposDocumentoList}"
                    th:value="${tipoDocumento.id}" th:text="${tipoDocumento.descripcion}">
            </option>
        </select>
       <span class="text-danger" th:if="${#fields.hasErrors('tipoDocumento')}" th:errors="*{tipoDocumento}"></span>
        <br>
        <label for="formaPago" class="form-label">Forma de Pago:</label>
        <select id="formaPago" name="formaPago" th:field="*{formaPago}" class="form-select" required>
            <option th:each="formaPago : ${formasPagoList}"
                    th:value="${formaPago.id}" th:text="${formaPago.descripcion}">
            </option>
        </select>
       <span class="text-danger" th:if="${#fields.hasErrors('formaPago')}" th:errors="*{formaPago}"></span>
        <br>

        <label for="monto" class="form-label">Monto:</label>
        <input class="form-control" type="number" id="monto" name="monto" th:field="*{monto}">
        <span class="text-danger" th:if="${#fields.hasErrors('monto')}" th:errors="*{monto}"></span>
        <br>

        <label for="fechaMovimiento" class="form-label">Fecha de Movimiento:</label>
        <input class="form-control" type="datetime-local" id="fechaMovimiento" name="fechaMovimiento" th:field="*{fechaMovimiento}">
        <span class="text-danger" th:if="${#fields.hasErrors('fechaMovimiento')}" th:errors="*{fechaMovimiento}"></span>
        <br>


        <label for="estado" class="form-label">Estado:</label>
        <select class="form-select" id="estado" name="estado" th:field="*{estado}" required>
            <option value="ACTIVO">Activo</option>
            <option value="INACTIVO">Inactivo</option>
        </select>
       <span class="text-danger" th:if="${#fields.hasErrors('estado')}" th:errors="*{estado}"></span>
        <br>
        <input type="submit" value="Actualizar" class="btn btn-success">
    </form>
    <a th:href="@{/movimientos-caja/}">Volver a la lista</a>
</main>
</body>

</html>
